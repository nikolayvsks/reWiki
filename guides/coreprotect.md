---
hidden: true
layout:
  width: default
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
  metadata:
    visible: true
---

# CoreProtect

Статья-туториал для модераторов Revite по плагину CoreProtect.

## Что это?

CoreProtect — наш основной инструмент защиты от гриферов. Он записывает все основные действия игроков (что-то поставлено/сломано или что-то забрали/положили и т.п.), а также позволяет откатывать эти действия.

Будьте осторожны и деликатны с командами этого плагина, **особенно с откатом**, ибо по понятным причинам, они могут нанести серверу очень серьёзный ущерб.

## `/co i`

Самая основная и простая команда плагина.

Введя её, у вас включится режим инспектора, который позволит кликать по конкретным блокам для получения о них информации — кто поставил, сломал, взаимодействовал и т.п.

Думаю, в дальнейших комментариях не нуждается.

## `/co near`

Тоже достаточно простая команда, которая показывает все совершенные действия с миром в радиусе 5 блоков (не только с блоками, но и с мобами и предметами).

Не всегда удобно, ведь нельзя настраивать и фильтровать действия, но опять же, вполне просто.

## `/co lookup [аргументы]`

Альтернатива `/co near`, которая как раз позволяет задавать аргументы для более эффективного поиска. Пройдёмся по этим параметрам:

### `action:`

Позволяет задать фильтр по совершенному действию. Вот, какие доступны:

* `block` — поставил или сломал блок. `+block` — поставил блок, `-block` — сломал блок;
* `chat` — сообщения в чате;
* `click` — нажатие по блоку, который при нажатии исполняет какое-то действие (открытие бочки, двери и пр.);
* `command` — команды, которые исполнял игрок;
* `container` — взаимодействие с хранилищами (взял или положил предметы). `+container` — положил предмет, `-container` — взял предмет;
* `inventory` — взаимодействие с инвентарем игрока (получил или потерял предметы). `+inventory` — получил предмет, `-inventory` — потерял предмет.
* `item` — взаимодействие с предметами (подобрал или выкинул предметы). `+item` — подобрал предмет, `-item` — выкинул предмет.
* `kill` — убийство кого-либо;
* `session` — входы и выходы игроков с сервера; `+session` — входы игроков, `-session` — выходы игроков.
* `sign` — надписи на табличках;
* `username` — никнеймы игроков.

### `time:`

Позволяет задать время в качестве фильтра для поиска. Например, `time:1d` для действий за последний день. Думаю, тут всё понятно.

### `radius:`

Позволяет задать радиус в блоках в качестве фильтра для поиска. Например, `radius:5` будет показывать действия, совершенные радиусом в 5 блоков от введения команды.

### `user:`

Позволяет задать игрока в качестве фильтра для поиска, то есть фильтрует действия только по игроку, которого вы укажите. Можно указывать оффлайн игрока. Например, `user:meumew` будет отображать только действия, которые совершила meumew.

### `include:`

Позволяет задать предмет/блок в качестве фильтра для поиска. Например, `include:dirt` будет отображать только действия, которые совершены с блоком земли.

### `exclude:`

Позволяет убрать предмет/блок из поиска. Например, `exclude:dirt` исключит блок земли из поиска и не будет показывать действий, которые с ним совершали.

### Примеры

Предоставлю некоторые примеры команд для лучшего понимания.

`/co lookup user:nikolayvsks time:1d` — посмотреть все действия, которые совершал nikolayvsks с миром за последний день

`/co lookup radius:5 time:1d` — посмотреть все действия, которые совершались с миром в радиусе 5 блоков за последний день.

`/co lookup action:chat user:nikolayvsks` — посмотреть все сообщения, которые отправлял nikolayvsks.

Как вы можете понять, комбинации могут быть абсолютно разными.

## `/co rollback [аргументы]`

Вот мы и подобрались к финальному боссу — откату действий.

Во-первых, <mark style="color:$danger;">будьте предельно осторожны с этой командой</mark>, чтобы не откатить ничего лишнего! Аккуратно и тщательно выбирайте время и радиус.

Во-вторых, откат который вы совершили можно отменить с помощью команды `/co undo`. Но лучше всего этим не пользоваться и сразу прописывать откаты правильно, чтобы их не приходилось отменять.

### `action:`

Позволяет задать фильтр по совершенному действию. Работает по тому же принципу, что и action: в lookup'e.

Например, с `action:block` откат затронет только поломку или поставление блоков.

### `time:`

Позволяет задать время для отката. Работает по тому же принципу, что и time: в lookup'e.

Например, time:1h сделает откат на час. По понятным причинам, обязательный аргумент.

### `radius:`

Позволяет задать радиус откат. Работает по тому же принципу, что и radius: в lookup'e.

Например, с `radius:5` откат затронет только радиус в 5 блоков, а остальные откачены не будут. По понятным причинам, обязательный аргумент.

### `user:`

Позволяет задать игрока, действия которого будут откатываться. Работает по тому же принципу, что и user: в lookup'e.

Например, с `user:nikolayvsks` откат затронет только действия, которые совершал nikolayvsks.

### `include:`

Позволяет задать предмет/блок, который будет откатываться. Работает по тому же прицнипу, что и include: в lookup'e.

Например, с `include:dirt` откат затронет только действия, совершенные с блоком земли.

### `exclude:`

Позволяет исключить предмет/блок из отката. Работает по тому же принципу, что и exclude: в lookup'e.

Например, с `exclude:dirt` откат не будет затрагивать действия, совершенные с блоком земли.

### Примеры

Предоставлю некоторые примеры команд для лучшего понимания.

`/co rollback radius:5 time:1h` — откатит действия, радиусом в 5 блоков совершенные за последний час.

`/co rollback user:nikolayvsks action:block radius:3 time:1d` — откатит поставленные и сломанные блоки игроком nikolayvsks за последний день радиусом в 3 блока.

Думаю, тут и так всё понятно.
